{"version":3,"sources":["components/input-with-label.jsx","components/pressed-button.jsx","screens/list/item.js","screens/list/list.js","App.js","utils/use-semi-persistent.js","reportWebVitals.js","index.js"],"names":["InputWithLabel","id","label","value","type","onInputChange","children","isFocused","inputRef","useRef","useEffect","current","focus","StyledLabel","htmlFor","StyledInput","onChange","ref","styled","input","Container","div","Base","ButtonWrapper","ButtonMain","ButtonInsilde","PressedBtn","handleSearchSubmit","ontouchstart","onClick","className","Item","item","onRemoveItem","StyledItem","StyledColumn","width","href","url","title","author","num_comments","points","StyledButtonSmall","span","props","StyledButton","button","List","list","map","objectID","App","API_ENDPOINT","key","initialState","useState","localStorage","getItem","setValue","setItem","useSemiPersistent","searchTerm","setSearchTerm","setUrl","useReducer","state","action","isLoading","isError","data","payload","filter","story","Error","stories","dispatchStories","handleFetchStories","useCallback","a","axios","get","result","hits","searchedStories","toLowerCase","includes","isScrolled","setIsScrolled","mainContainer","document","addEventListener","elemTop","getBoundingClientRect","top","console","log","StyledHeadlinePrimary","active","StyledContainer","style","color","event","preventDefault","handleSearchInput","target","SearchForm","StyledSearchForm","onSubmit","form","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2422ebfe.chunk.js","sourcesContent":["import { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nconst InputWithLabel = ({\n    id,\n    label,\n    value,\n    type = 'text',\n    onInputChange,\n    children,\n    isFocused,\n}) => {\n    const inputRef = useRef();\n    useEffect(() => {\n        if (isFocused && inputRef.current) {\n            inputRef.current.focus();\n        }\n    }, [isFocused]);\n    return (\n        <>\n            <StyledLabel htmlFor={id}>{children || label}</StyledLabel>\n            &nbsp;\n            <StyledInput\n                id={id}\n                type={type}\n                value={value}\n                onChange={onInputChange}\n                ref={inputRef} // 指令式\n                // autoFocus={isFocused} // 声明式\n            />\n        </>\n    );\n};\n\nexport default InputWithLabel;\n\nconst StyledLabel = styled.label`\n    padding-left: 5px;\n    font-size: 2.4rem;\n`;\n\nconst StyledInput = styled.input`\n    border: none;\n    border-bottom: 1px solid #171212;\n    background-color: transparent;\n    outline-width: inherit;\n\n    font-size: 2.4rem;\n`;\n","import styled from 'styled-components';\nconst PressedBtn = ({ handleSearchSubmit }) => {\n    return (\n        <Container>\n            <Base>\n                <ButtonWrapper ontouchstart=\"\" onClick={handleSearchSubmit}>\n                    <ButtonInsilde className=\"btn-side\"></ButtonInsilde>\n                    <ButtonMain className=\"btn\">S</ButtonMain>\n                </ButtonWrapper>\n            </Base>\n        </Container>\n    );\n};\n\nconst Container = styled.div`\n    width: 24rem;\n    height: 24rem;\n    transform: rotateX(40deg);\n    transform-style: preserve-3d;\n`;\nconst Base = styled.div`\n    background: #bbb;\n    border-radius: 1.6rem;\n    box-shadow: 0 -0.6rem 0px #777777 inset;\n    display: flex;\n    display: -webkit-flex;\n    justify-content: center;\n    -webkit-justify-content: center;\n    align-items: center;\n    -webkit-align-items: center;\n    position: relative;\n    transform-style: preserve-3d;\n    width: 24rem;\n    height: 24rem;\n`;\nconst ButtonWrapper = styled.div`\n    border: 0;\n    background: transparent;\n    cursor: pointer;\n    -webkit-appearance: none;\n\n    &:active .btn {\n        transform: translateZ(1px);\n    }\n\n    &:active .btn-side {\n        transform: translateZ(0);\n    }\n\n    &:focus {\n        outline: none;\n    }\n`;\n\nconst ButtonMain = styled.div`\n    background: #444 linear-gradient(#888888, transparent 50%);\n    border-radius: 1.6rem;\n    box-shadow: 0 0 0.5rem #888888 inset;\n    color: #f80;\n    display: block;\n    font: 17.85rem Asap;\n    font-weight: bold;\n    width: 21rem;\n    height: 21rem;\n    transform: translateZ(36px);\n    transition: all 0.05s;\n    text-align: center;\n    text-shadow: 0 0 24px #f80, 0 -2.4px 0 #222222, 0 2.4px 0 #ffbb33;\n    z-index: 2;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n`;\n\nconst ButtonInsilde = styled.div`\n    background: #333333\n        linear-gradient(\n            90deg,\n            #666666,\n            transparent 8%,\n            transparent 92%,\n            #666666\n        );\n    border-radius: 0 0 12px 12px;\n    box-shadow: 0 -4.8px 4.8px #222 inset;\n    position: absolute;\n    bottom: 8%;\n    transform: rotateX(-60deg);\n    transform-origin: 0 100%;\n    transition: all 0.05s;\n    width: 210px;\n    height: 31.5px;\n    z-index: 1;\n`;\n\nexport default PressedBtn;\n","import styled from 'styled-components';\nconst Item = ({ item, onRemoveItem }) => (\n    <StyledItem>\n        <StyledColumn width=\"40%\">\n            <a href={item.url}>{item.title}</a>\n        </StyledColumn>\n        <StyledColumn width=\"30%\">{item.author}</StyledColumn>\n        <StyledColumn width=\"10%\">{item.num_comments}</StyledColumn>\n        <StyledColumn width=\"10%\">{item.points}</StyledColumn>\n        <StyledColumn width=\"10%\">\n            <StyledButtonSmall type=\"button\" onClick={() => onRemoveItem(item)}>\n                Dismiss\n            </StyledButtonSmall>\n        </StyledColumn>\n    </StyledItem>\n);\n\nexport default Item;\n\nconst StyledItem = styled.div`\n    display: flex;\n    align-items: center;\n    padding-bottom: 5px;\n`;\n\nconst StyledColumn = styled.span`\n    padding: 0 5px;\n    white-space: nowrap;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    a {\n        color: inherit;\n    }\n\n    width: ${props => props.width};\n`;\n\nconst StyledButton = styled.button`\n    background: transparent;\n    border: 1px solid #171212;\n    padding: 5px;\n    cursor: pointer;\n\n    transition: all 0.1s ease-in;\n\n    &:hover {\n        background: #171212;\n        color: #ffffff;\n    }\n`;\n\nconst StyledButtonSmall = styled(StyledButton)`\n    padding: 5px;\n`;\n","import Item from './item';\nconst List = ({ list, onRemoveItem }) => {\n    return (\n        <div>\n            {list.map(item => (\n                <Item\n                    key={item.objectID}\n                    item={item}\n                    onRemoveItem={onRemoveItem}\n                />\n            ))}\n        </div>\n    );\n};\nexport default List;\n","import InputWithLabel from '@/components/input-with-label';\nimport PressedBtn from '@/components/pressed-button';\nimport List from '@/screens/list/list';\nimport { useSemiPersistent } from '@/utils/use-semi-persistent';\nimport axios from 'axios';\nimport { useCallback, useEffect, useReducer, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport './App.css';\n\nconst App = () => {\n    const API_ENDPOINT = 'https://hn.algolia.com/api/v1/search?query=';\n    const [searchTerm, setSearchTerm] = useSemiPersistent('search', 'react');\n    const [url, setUrl] = useState(`${API_ENDPOINT}${searchTerm}`);\n\n    const storiesReducer = (state, action) => {\n        switch (action.type) {\n            case 'STORIES_FETCH_INIT':\n                return {\n                    ...state,\n                    isLoading: true,\n                    isError: false,\n                };\n            case 'STORIES_FETCH_SUCCESS':\n                return {\n                    ...state,\n                    isLoading: false,\n                    isError: false,\n                    data: action.payload,\n                };\n            case 'STORIES_FETCH_FAILURE':\n                return {\n                    ...state,\n                    isLoading: false,\n                    isError: true,\n                };\n            case 'REMOVE_STORY':\n                return {\n                    ...state,\n                    data: state.data.filter(\n                        story => action.payload.objectID !== story.objectID\n                    ),\n                };\n            default:\n                throw new Error();\n        }\n    };\n    const [stories, dispatchStories] = useReducer(storiesReducer, {\n        data: [],\n        isLoading: false,\n        isError: false,\n    });\n\n    const handleSearchInput = event => {\n        setSearchTerm(event.target.value);\n    };\n\n    const handleSearchSubmit = event => {\n        setUrl(`${API_ENDPOINT}${searchTerm}`);\n        event.preventDefault();\n    };\n\n    const handleFetchStories = useCallback(async () => {\n        dispatchStories({ type: 'STORIES_FETCH_INIT' });\n        try {\n            const result = await axios.get(url);\n\n            dispatchStories({\n                type: 'STORIES_FETCH_SUCCESS',\n                payload: result.data.hits,\n            });\n        } catch {\n            dispatchStories({ type: 'STORIES_FETCH_FAILURE' });\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [url]);\n\n    useEffect(() => {\n        handleFetchStories();\n    }, [handleFetchStories]);\n\n    const handleRemoveStory = item => {\n        dispatchStories({\n            type: 'REMOVE_STORY',\n            payload: item,\n        });\n    };\n\n    const searchedStories = stories.data.filter(\n        story =>\n            story.title &&\n            story.title.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    // header style controller\n    const [isScrolled, setIsScrolled] = useState(false);\n    const mainContainer = useRef();\n\n    document.addEventListener('scroll', () => {\n        if (mainContainer.current) {\n            const elemTop = mainContainer.current.getBoundingClientRect().top;\n            console.log(elemTop);\n            if (elemTop < 100) {\n                setIsScrolled(true);\n            } else if (elemTop > 100 && isScrolled) {\n                setIsScrolled(false);\n            }\n        }\n    });\n    return (\n        <>\n            <StyledHeadlinePrimary active={isScrolled}>\n                My Hacker Stories\n            </StyledHeadlinePrimary>\n            <StyledContainer ref={mainContainer}>\n                {stories.isError && (\n                    <p style={{ color: 'red' }}>Something is error!!!</p>\n                )}\n\n                <SearchForm\n                    handleSearchSubmit={handleSearchSubmit}\n                    searchTerm={searchTerm}\n                    handleSearchInput={handleSearchInput}\n                />\n                <br />\n                {stories.isLoading ? (\n                    <p>Loading...</p>\n                ) : (\n                    <List\n                        list={searchedStories}\n                        onRemoveItem={handleRemoveStory}\n                    />\n                )}\n            </StyledContainer>\n        </>\n    );\n};\n\nexport default App;\n\nconst SearchForm = ({ handleSearchSubmit, searchTerm, handleSearchInput }) => {\n    return (\n        <StyledSearchForm onSubmit={handleSearchSubmit}>\n            <InputWithLabel\n                id=\"search\"\n                label=\"Search\"\n                isFocused\n                value={searchTerm}\n                onInputChange={handleSearchInput}\n            >\n                <strong>Search</strong>\n            </InputWithLabel>\n            {/* <StyledButtonLarge type=\"submit\" disabled={!searchTerm}>\n                <Check width=\"18px\" height=\"18px\" />\n            </StyledButtonLarge> */}\n            <PressedBtn handleSearchSubmit={handleSearchSubmit} />\n        </StyledSearchForm>\n    );\n};\n\nconst StyledContainer = styled.div`\n    height: 100vw;\n    padding: 20px;\n\n    background: #83a4d4;\n    background: linear-gradient(to left, #b6fbff, #83a4d4);\n\n    color: #171212;\n    font-size: 1.6rem;\n`;\n\nconst StyledHeadlinePrimary = styled.div`\n    padding: 2rem;\n    z-index: 99;\n\n    width: 100%;\n    height: 8rem;\n    font-size: 4.8rem;\n    font-weight: 300;\n    letter-spacing: 0.2rem;\n    border-bottom: ${props => (props.active ? '0.2' : '0') + 'rem solid #fff'};\n\n    position: sticky;\n    top: 0;\n    background: #83a4d4;\n    background: linear-gradient(to left, #ffd5b6, #3497c7);\n\n    /* clip-path: polygon(0 0, 100% 0, 100% 5vh, 0 100%);  */\n`;\nconst StyledSearchForm = styled.form`\n    padding: 10px 0 20px 0;\n    display: flex;\n    align-items: baseline;\n`;\n\nconst StyledButton = styled.button`\n    background: transparent;\n    border: 1px solid #607d8b;\n    padding: 5px;\n    cursor: pointer;\n\n    outline-width: inherit;\n\n    transition: all 0.1s ease-in;\n\n    &:hover {\n        background: #ff5722;\n        color: #fff;\n    }\n`;\n\n// const StyledButtonLarge = styled(StyledButton)`\n//     padding: 10px;\n// `;\n","import { useEffect, useState } from 'react';\nexport const useSemiPersistent = (key, initialState) => {\n    const [value, setValue] = useState(\n        localStorage.getItem(key) || initialState\n    );\n    useEffect(() => {\n        localStorage.setItem(key, value);\n    }, [value, key]);\n    return [value, setValue];\n};\n","const reportWebVitals = onPerfEntry => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(\n            ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n                getCLS(onPerfEntry);\n                getFID(onPerfEntry);\n                getFCP(onPerfEntry);\n                getLCP(onPerfEntry);\n                getTTFB(onPerfEntry);\n            }\n        );\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}